class Apartments::Nyc
  attr_accessor :name, :cost, :address, :url

  def self.today
    #scrape apartment data from site and return results
    self.scrape_apts
  end

  def self.scrape_apts
    apts = []

    apts << self.scrape_apartments

    apts
  end

  def self.scrape_apartments
    doc = Nokogiri::HTML(open("https://www.apartments.com/apartments/new-york-ny/under-1700/?bb=mi7j_458wHzszmkvH"))

    apt = self.new
    apt.address = doc.search("placardTitle js-placardTitle  ").text.strip
    apt.cost = doc.search("...").text.strip
    #deal.url = doc.search("...").first.attr("...").strip
   

    deal
  end

end
